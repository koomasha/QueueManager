<template name="appQueuecontent">
	<div id="queuecontent" class="toppad">
		{{> appLeaveQueueConfirm}}
		{{> appPostponeQueueConfirm}}

		<div class="panel-group" id="accordion">
			{{#each queueitem}}
				<div class="{{turnStatus getSequence}}">
					<div class="panel-heading">
						<h4 class="panel-title">
							<a data-toggle="collapse" data-parent="#accordion" href="#{{_id}}">{{getBranchName}}: {{name}}</a>
						</h4>
					</div>
					<div id="{{_id}}" class="panel-collapse collapse">
						<div class="panel-body">
					 		<h3>Your Location</h3>
					  		<p>{{prefix}}{{getSequence}}</p>
					  		<h3>Current Location</h3>
					  		<p>{{prefix}}{{currentSeq}}</p>

				  			{{#if station}}
		  						<p>It's your turn! please come to station {{station}}</p>
				  			{{/if}}

					  		{{#if isUserLast getSequence}}
					  			<button type="button" class="btn btn-default postpone" disabled="true">Postpone turn</button>
				  			{{else}}
				  				<button type="button" class="btn btn-default postpone">Postpone turn</button>
				  			{{/if}}
				  			
					  		<button type="button" class="btn btn-default leave">Leave queue</button>
						</div>
					</div>
				</div>
			{{else}}
				<p>You are not in any active queue</p>
			{{/each}}
		</div>
	</div>
</template>

<template name="appLeaveQueueConfirm">
  <div id="appLeaveQueueModal" class="modal notvisible">
      <div class="modal-content">
        <div class="modal-body">
        	<p>Are you sure that you want to leave the queue?</p>
        </div>
        <div class="modal-footer">
        	<center>
                <button class="btn btn-success save">Yes</button>
	          	<button class="btn cancel" data-dismiss="modal">No</button>
           </center>
        </div>
      </div>
  </div>
</template>

<template name="appPostponeQueueConfirm">
  <div id="appPostponeQueueModal" class="modal notvisible">
      <div class="modal-content">
        <div class="modal-body">
        	<p>Are you sure that you want to postpone your turn?</p>
        	<p>Your new location would be {{newLocation}}</p>
        	<p>Estimated wait time would be {{newEstimatedTime}}</p>
        </div>
        <div class="modal-footer">
        	<center>
                <button class="btn btn-success save">Yes</button>
        	  	<button class="btn cancel" data-dismiss="modal">No</button>
            </center>
        </div>
      </div>
  </div>
</template>